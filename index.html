<!doctype html>
<html>
<head>
	<meta name="generator" content="Hugo 0.25.1" />
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Viemacs Notes</title>
    <link href='/slate/stylesheets/monokai.css' rel="stylesheet" media="screen" />
<link href='/slate/stylesheets/screen.css' rel="stylesheet" media="screen" />
<link href='/slate/stylesheets/print.css' rel="stylesheet" media="print" />

    
<script src='/slate/javascripts/all.js'></script>

    
</head>
<body class="index" data-languages="[ &#34;go&#34; ,  &#34;c&#43;&#43;&#34; ,  &#34;shell&#34; ,  &#34;python&#34; ,  &#34;javascript&#34; ]">
    <a href="#" id="nav-button">
        <span>
        NAV
        <img src='/slate/images/navbar.png'/>
      </span>
    </a>
    <div class="tocify-wrapper">
        
         <img src='/images/logo.png' />
        
        <div class="lang-selector">
            
            <a href="#" data-language-name="go">Go</a>
            
            <a href="#" data-language-name="c&#43;&#43;">C&#43;&#43;</a>
            
            <a href="#" data-language-name="shell">Shell</a>
            
            <a href="#" data-language-name="python">Python</a>
            
            <a href="#" data-language-name="javascript">Javascript</a>
            
        </div>
         
        
        <div class="search">
            <input type="text" class="search" id="input-search" placeholder='Search'>
        </div>
        <ul class="search-results"></ul>
        
        <div id="toc">
        </div>
         
        
        

    </div>
    <div class="page-wrapper">
        <div class="dark-box"></div>
        <div class="content">
            
    
        

<h1 id="introduction">Introduction</h1>

<p>Welcome to the Kittn API! You can use our API to access Kittn API endpoints, which can get information on various cats, kittens, and breeds in our database.</p>

<p>We have language bindings in Shell, Ruby, and Python! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<p><strong>This example API documentation page was created with <a href="https://github.com/bep/docuapi/">DocuAPI</a>, a multilingual documentation theme for the static site generator <a href="http://gohugo.io/">Hugo</a>.</strong></p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<div class="highlight"><pre><code class="language-go" data-lang="go"><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">&quot;github.com/bep/kittn/auth&quot;</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">api</span> <span class="o">:=</span> <span class="nx">auth</span><span class="p">.</span><span class="nx">Authorize</span><span class="p">(</span><span class="s">&quot;meowmeowmeow&quot;</span><span class="p">)</span>

	<span class="c1">// Just to make it compile</span>
	<span class="nx">_</span> <span class="p">=</span> <span class="nx">api</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="nb">require</span> <span class="s1">&#39;kittn&#39;</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="o">.</span><span class="n">authorize!</span><span class="p">(</span><span class="s1">&#39;meowmeowmeow&#39;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="kn">import</span> <span class="nn">kittn</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">kittn</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s1">&#39;meowmeowmeow&#39;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span></span><span class="c1"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">&quot;api_endpoint_here&quot;</span>
  -H <span class="s2">&quot;Authorization: meowmeowmeow&quot;</span>
</code></pre></div>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">const</span> <span class="nx">kittn</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;kittn&#39;</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">kittn</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">&#39;meowmeowmeow&#39;</span><span class="p">);</span>
</code></pre></div>

<blockquote>
<p>Make sure to replace <code>meowmeowmeow</code> with your API key.</p>
</blockquote>

<p>Kittn uses API keys to allow access to the API. You can register a new Kittn API key at our <a href="http://example.com/developers">developer portal</a>.</p>

<p>Kittn expects for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code>Authorization: meowmeowmeow</code></p>

<aside class="notice">
You must replace <code>meowmeowmeow</code> with your personal API key.
</aside>

<h1 id="etwas">Etwas</h1>

<h2 id="just-some-new-subjects">Just some new subjects</h2>

<h3 id="more-hierarchy-layers">more hierarchy layers</h3>

<h4 id="head-4">head 4</h4>

<h1 id="kittens">Kittens</h1>

<h2 id="get-all-kittens">Get All Kittens</h2>
<div class="highlight"><pre><code class="language-go" data-lang="go"><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">&quot;github.com/bep/kittn/auth&quot;</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">api</span> <span class="o">:=</span> <span class="nx">auth</span><span class="p">.</span><span class="nx">Authorize</span><span class="p">(</span><span class="s">&quot;meowmeowmeow&quot;</span><span class="p">)</span>

	<span class="nx">_</span> <span class="p">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">GetKittens</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="nb">require</span> <span class="s1">&#39;kittn&#39;</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="o">.</span><span class="n">authorize!</span><span class="p">(</span><span class="s1">&#39;meowmeowmeow&#39;</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">kittens</span><span class="o">.</span><span class="n">get</span>
</code></pre></div>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="kn">import</span> <span class="nn">kittn</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">kittn</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s1">&#39;meowmeowmeow&#39;</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">kittens</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span></span>curl <span class="s2">&quot;http://example.com/api/kittens&quot;</span>
  -H <span class="s2">&quot;Authorization: meowmeowmeow&quot;</span>
</code></pre></div>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">const</span> <span class="nx">kittn</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;kittn&#39;</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">kittn</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">&#39;meowmeowmeow&#39;</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">kittens</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">kittens</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
</code></pre></div>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Fluffums&quot;</span><span class="p">,</span>
    <span class="nt">&quot;breed&quot;</span><span class="p">:</span> <span class="s2">&quot;calico&quot;</span><span class="p">,</span>
    <span class="nt">&quot;fluffiness&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
    <span class="nt">&quot;cuteness&quot;</span><span class="p">:</span> <span class="mi">7</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Max&quot;</span><span class="p">,</span>
    <span class="nt">&quot;breed&quot;</span><span class="p">:</span> <span class="s2">&quot;unknown&quot;</span><span class="p">,</span>
    <span class="nt">&quot;fluffiness&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="nt">&quot;cuteness&quot;</span><span class="p">:</span> <span class="mi">10</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre></div>

<p>This endpoint retrieves all kittens.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code>GET http://example.com/api/kittens</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td>include_cats</td>
<td>false</td>
<td>If set to true, the result will also include cats.</td>
</tr>

<tr>
<td>available</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>
</tbody>
</table>

<aside class="success">
Remember — a happy kitten is an authenticated kitten!
</aside>

<h2 id="get-a-specific-kitten">Get a Specific Kitten</h2>
<div class="highlight"><pre><code class="language-go" data-lang="go"><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">&quot;github.com/bep/kittn/auth&quot;</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">api</span> <span class="o">:=</span> <span class="nx">auth</span><span class="p">.</span><span class="nx">Authorize</span><span class="p">(</span><span class="s">&quot;meowmeowmeow&quot;</span><span class="p">)</span>

	<span class="nx">_</span> <span class="p">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">GetKitten</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span></span><span class="nb">require</span> <span class="s1">&#39;kittn&#39;</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="o">.</span><span class="n">authorize!</span><span class="p">(</span><span class="s1">&#39;meowmeowmeow&#39;</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">kittens</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="kn">import</span> <span class="nn">kittn</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">kittn</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s1">&#39;meowmeowmeow&#39;</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">kittens</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span></span>curl <span class="s2">&quot;http://example.com/api/kittens/2&quot;</span>
  -H <span class="s2">&quot;Authorization: meowmeowmeow&quot;</span>
</code></pre></div>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kr">const</span> <span class="nx">kittn</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;kittn&#39;</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">kittn</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">&#39;meowmeowmeow&#39;</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">kittens</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</code></pre></div>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span></span><span class="p">{</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Max&quot;</span><span class="p">,</span>
  <span class="nt">&quot;breed&quot;</span><span class="p">:</span> <span class="s2">&quot;unknown&quot;</span><span class="p">,</span>
  <span class="nt">&quot;fluffiness&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nt">&quot;cuteness&quot;</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">}</span>
</code></pre></div>

<p>This endpoint retrieves a specific kitten.</p>

<aside class="warning">Inside HTML code blocks like this one, you can't use Markdown, so use <code>&lt;code&gt;</code> blocks to denote code.</aside>

<h3 id="http-request-1">HTTP Request</h3>

<p><code>GET http://example.com/kittens/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td>ID</td>
<td>The ID of the kitten to retrieve</td>
</tr>
</tbody>
</table>

    
        

<h1 id="algorithm">Algorithm</h1>

    
        

<h2 id="huffman-encoding">Huffman Encoding</h2>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="k">class</span> <span class="nc">Node</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">symbol</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">weight</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">left</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">symbol</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">weight</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">weight</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="ow">and</span> <span class="n">right</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="n">weight</span> <span class="o">+</span> <span class="n">right</span><span class="o">.</span><span class="n">weight</span>

    <span class="k">def</span> <span class="nf">result</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="n">r</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">symbol</span> <span class="ow">and</span> <span class="n">r</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">symbol</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">weight</span><span class="p">,</span> <span class="n">code</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">left</span> <span class="ow">and</span> <span class="n">r</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">code</span> <span class="o">+</span> <span class="s1">&#39;0&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">right</span> <span class="ow">and</span> <span class="n">r</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">code</span> <span class="o">+</span> <span class="s1">&#39;1&#39;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">r</span>


<span class="k">def</span> <span class="nf">genHuffman</span><span class="p">(</span><span class="n">char</span><span class="p">,</span> <span class="n">freq</span><span class="p">):</span>
    <span class="n">nodeList</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">char</span><span class="p">)):</span>
        <span class="n">nodeList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">char</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">freq</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>

    <span class="k">while</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nodeList</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">):</span>
        <span class="n">nodeList</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">weight</span><span class="p">,</span> <span class="n">reverse</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
        <span class="n">nodeList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Node</span><span class="p">(</span><span class="n">left</span> <span class="o">=</span> <span class="n">nodeList</span><span class="o">.</span><span class="n">pop</span><span class="p">(),</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nodeList</span><span class="o">.</span><span class="n">pop</span><span class="p">()))</span>

    <span class="k">return</span> <span class="n">nodeList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">nodeList</span> <span class="k">else</span> <span class="n">Node</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">getFrequency</span><span class="p">(</span><span class="n">freq</span><span class="p">):</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="o">/</span><span class="n">total</span><span class="p">,</span> <span class="n">freq</span><span class="p">))</span>

<span class="c1"># test</span>
<span class="n">symbol</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">]</span>
<span class="n">counts</span> <span class="o">=</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">genHuffman</span><span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">counts</span><span class="p">)</span><span class="o">.</span><span class="n">result</span><span class="p">())</span>

<span class="c1"># output</span>
<span class="c1"># space	7	111</span>
<span class="c1"># a	4	010</span>
<span class="c1"># e	4	000</span>
<span class="c1"># f	3	1101</span>
<span class="c1"># h	2	1010</span>
<span class="c1"># i	2	1000</span>
<span class="c1"># m	2	0111</span>
<span class="c1"># n	2	0010</span>
<span class="c1"># s	2	1011</span>
<span class="c1"># t	2	0110</span>
<span class="c1"># l	1	11001</span>
<span class="c1"># o	1	00110</span>
<span class="c1"># p	1	10011</span>
<span class="c1"># r	1	11000</span>
<span class="c1"># u	1	00111</span>
<span class="c1"># x	1	10010</span>

<span class="n">symbol</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;space&#39;</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">,</span><span class="s1">&#39;f&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">,</span><span class="s1">&#39;i&#39;</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">,</span><span class="s1">&#39;n&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">,</span><span class="s1">&#39;t&#39;</span><span class="p">,</span><span class="s1">&#39;l&#39;</span><span class="p">,</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="s1">&#39;p&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;u&#39;</span><span class="p">,</span><span class="s1">&#39;x&#39;</span><span class="p">]</span>
<span class="n">counts</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">genHuffman</span><span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">counts</span><span class="p">)</span><span class="o">.</span><span class="n">result</span><span class="p">(),</span> <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span> <span class="o">=</span> <span class="bp">True</span><span class="p">):</span>
    <span class="k">print</span> <span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</code></pre></div>

<p>Huffman encoding goes from leaves to root, unlike Shanno-Fano encoding which goes from root to leaves.</p>

<p>A simple alg using a priority queue.</p>

<ol>
<li>Create a leaf-node for each symbol, with the info of the symbol&rsquo;s frequency.</li>
<li>Loop while there are more than 1 node in the queue

<ul>
<li>Replace the 2 nodes of lowest probability, with 1 node that takes the 2 nodes as children and its weight is the sum of the 2 nodes&rsquo; weight.</li>
</ul></li>
<li>The last one node is the root of the completed tree.</li>
</ol>

    
        

<h1 id="editor">Editor</h1>

<h2 id="emacs">Emacs</h2>

<h3 id="emacs-config-file">Emacs Config File</h3>

<p><a href="./editor/init.el">init.el</a></p>

    
        

<h2 id="vim-shortcuts">VIM Shortcuts</h2>

<h3 id="退出">退出</h3>

<ul>
<li>w filename: 保存正在编辑的文件filename</li>
<li>wq filename: 保存后退出正在编辑的文件filename</li>
<li>q：退出不保存。</li>
</ul>

<h3 id="窗口操作">窗口操作</h3>

<ul>
<li>ctrl+w p: 在两个分割窗口之间来回切换。</li>
<li>ctrl+w j: 跳到下面的分割窗</li>
<li>ctrl+w h: 跳到左边的分割窗。</li>
<li>ctrl+w k: 跳到上面的分割窗。</li>
<li>ctrl+w l: 跳到右边的分割窗。</li>
</ul>

<h3 id="移动">移动</h3>

<pre><code>h,j,k,l: 左，下，上，右。
w: 下一个词的词首。
e:下一个词的词尾。
b:上一个词的词首。
&lt;&gt;: v 模式选中后进行缩进。
</code></pre>

<h3 id="跳转">跳转</h3>

<pre><code>%: 可以匹配{},&quot;&quot;,(),[]之间跳转。
H、M、L：直接跳转到当前屏幕的顶部、中部、底部。
#H：跳转到当前屏的第#行。
#L：跳转到当前屏的倒数第#行。
zt: 当前编辑行置为屏顶。
zz: 当前编辑行置为屏中。
zb: 当前编辑行置为屏底。
G：直接跳转到文件的底部。
gg: 跳转到文件首。
():跳转到当前的行首、行尾。
{}：向上、向下跳转到最近的空行。
[{：跳转到目前区块开头。
]}：跳转到目前区块结尾。
0: 跳转到行首。
$: 跳转到行尾。
2$: 跳转到下一行的行尾。
#：跳转到该行的第#个位置。
#G: 15G,跳转到15行。
:#：跳转到#行。
f'n'：跳转到下一个&quot;n&quot;字母后。
ctrl+b: 向后翻一页。
ctrl+f：向前翻一页。
ctrl+u: 向后翻半页。
ctrl+d: 向前翻半页。
ctry+e: 下滚一行。
</code></pre>

<h3 id="选择">选择</h3>

<pre><code>1.V: 选择一行。
2.^V: 矩形选择。
3.v3w: 选择三个字符。  
</code></pre>

<h3 id="编辑">编辑</h3>

<pre><code>1. 新增：
    i: 光标前插入。
    I: 在当前行首插入。
    a: 光标后插入。
    A: 当前行尾插入。
    O: 在当前行之前插入新行。
    o: 在当前行之后插入新行。
2. 修改 c(change) 为主：
    r: 替换光标所在处的字符。
    R：替换光标所到之处的字符。
    cw: 更改光标所在处的字到字尾处。
    c#w: c3w 修改3个字符。
    C：修改到行尾。
    ci'：修改配对标点符号中的文本内容。
    di'：删除配对标点符号中的文本内容。
    yi'：复制配对标点符号中的文本内容。
    vi'：选中配对标点符号中的文本内容。
    s：替换当前一个光标所处字符。
    #S：删除 # 行，并以新文本代替。
3. 删除 d(delete) 为主：
    D：删除到行尾。
    X: 每按一次，删除光标所在位置的前面一个字符。
    x: 每按一次，删除光标所在位置的后面一个字符。
    #x: 删除光标所在位置后面6个字符。
    d^: 删至行首。
    d$: 删至行尾。
    dd:(剪切)删除光标所在行。        
    dw: 删除一个单词/光标之后的单词剩余部分。
    d4w: 删除4个word。
    #dd: 从光标所在行开始删除#行。
    daB: 删除{}及其内的内容。
    diB: 删除{}中的内容。
    n1,n2 d：将n1,n2行之间的内容删除。
4. 查找：
    /： 输入关键字，发现不是要找的，直接在按n，向后查找直到找到为止。
    ?： 输入关键字，发现不是要找的，直接在按n，向前查找直到找到为止。
    *: 在当前页向后查找同一字。
    #: 在当前页向前查找同一字。
5. 复制 y(yank)为主：
    yw: 将光标所在之处到字尾的字符复制到缓冲区中。
    #yw: 复制#个字到缓冲区。
    Y：相当于yy, 复制整行。
    #yy:表示复制从光标所在的该行往下数#行文字。
    p: 粘贴。所有与y相关的操作必用p来结合粘贴。
    n1,n2 co n3：复制第n1行到第n2行之间的内容到第n3行后面。
6. 大小写转换：
    gUU: 将当前行的字母改为大写。
    guu: 将当前行的字母改为小写。
    gUw: 将当前光标下的单词改为大写。
    guw: 将当前光标下的单词改为小写。
    a. 整篇大写:
    ggguG
    gg: 光标到文件第一个字符。
    gu: 把选择范围全部小写。
    G: 到文件结束。
    b. 整篇小写：gggUG
7.  其它：
    J：当前行和下一行合并成一行。
8.  移动：
    n1,n2 m n3：将n1行到n2行之间的内容移至n3行下。
</code></pre>

    
        

<h1 id="errors">Errors</h1>

<aside class="notice">This error section is stored in a separate file, errors.md. DocuAPI allows you to split the single page documentation in as many files as needed. Files are included in the  default Hugo page order . One way of ordering the pages is by setting the page `weight` in the front matter. Pages with lower weight will be listed first.</aside>

<p>The Kittn API uses the following error codes:</p>

<table>
<thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead>

<tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>

<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>

<tr>
<td>403</td>
<td>Forbidden &ndash; The kitten requested is hidden for administrators only</td>
</tr>

<tr>
<td>404</td>
<td>Not Found &ndash; The specified kitten could not be found</td>
</tr>

<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a kitten with an invalid method</td>
</tr>

<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>

<tr>
<td>410</td>
<td>Gone &ndash; The kitten requested has been removed from our servers</td>
</tr>

<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>

<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slow down!</td>
</tr>

<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>

<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody>
</table>

    
        

<h1 id="javascript">Javascript</h1>

    
        

<h1 id="tools">Tools</h1>

    
        

<h2 id="makefile">Makefile</h2>

<h3 id="make-basic">Make Basic</h3>

<p><em>make</em> is designed to manage the compiling process based on dependencies. The other functions of make is designed to make it easier to write Makefile.</p>

<hr />

<p>When we deal with a complex project, there might be lots of source files, header files, lib files, target files.
The files have a certain dependency relationship.</p>

<pre><code>$ gcc -c -o test.o test.c
$ gcc -o helloworld test.o
</code></pre>

<p>The dependency line is: <code>test.c</code> -&gt; <code>test.o</code> -&gt; <code>helloworld</code>.</p>

<p>When dealing with many files, the compiler is called many times. We build the files on which is depended, then build target files on top of that.</p>

<p>And <em>make</em> is a tool to automatically record and process the dependency.
The dependency relationship is written in the Makefile file, and <em>make</em> will compile the files w.r.t. the dependency described in Makefile.</p>

<h4 id="dependency">Dependency</h4>

<p>Here is a basic Makeifle</p>

<pre><code># target binary file: helloworld
helloworld: test.o
	echo &quot;good&quot;
	gcc -o helloworld test.o

test.o: test.c
	gcc -c -o test.o test.c
</code></pre>

<ul>
<li># starts a comment line</li>
<li>a target depends on its prerequisite. Multiple files are separated by spaces.</li>
<li>The lines indented by Tab are operations to implement a dependency relationship. These operations are normal Shell commands.</li>
</ul>

<p><em>make</em> is a recursive process.</p>

<blockquote>
<ul>
<li>If the current dependency has not prerequisite, then execute operations directly.</li>
<li>If the current dependency has prerequisite, and the required files exist and have not been changed since the last make (judged by write-timestamp), then execute operations directly.</li>
<li>If the required files of the current dependency do not exist, or have been changed, then use the required files as target files, and search their dependency, create target files.</li>
</ul>
</blockquote>

<h4 id="macro">Macro</h4>

<p>Macro in <em>make</em> is text-type variable.</p>

<pre><code>CC = gcc
helloworld: test.o
　　echo &quot;good&quot;
　　$(CC) -o helloworld test.o

test.o: test.c
　　$(CC) -c -o test.o test.c
</code></pre>

<h4 id="inner-macro">Inner Macro</h4>

<ul>
<li><code>$@</code> is target filename of the current dependency.</li>
<li><code>$^</code> is required filenames of the current dependency.</li>
<li><code>$*</code> target filename without suffix of the current dependency</li>
<li><code>$*</code> the changed files in the current dependency</li>
<li><code>$$</code> character $</li>
<li><code>$(@D)</code> directory of file path</li>
<li><code>$(@F)</code> filename of file path</li>
</ul>

<pre><code>CC = gcc
helloworld: test.o
　　echo $@
　　$(CC) -o $@ $^

test.o: test.c
　　$(CC) -c -o $@ $^
</code></pre>

<h4 id="suffix-dependency">Suffix Dependency</h4>

<pre><code>CC = gcc

.SUFFIXES: .c .o

.c.o:
	$(CC) -c -o $@ $^

#--------------------------
helloworld: test.o
	echo $@
	$(CC) -o $@ $^

test.o: test.c
</code></pre>

<p><code>.c.o</code> means <code>.c</code> is prerequisite, and <code>.o</code> is target.
<em>make</em> will find test.o and test.c has dependency, and will execute operation for this dependency.</p>

<p>Suffix dependency is very handy is big projects.</p>

<h4 id="misc">Misc</h4>

<p>Special dependency in makefile.</p>

<p>all: if <em>make</em> was followed by no filename, &ldquo;all&rdquo; will be chosen.</p>

<p>clean: it is used to clean legacy files.</p>

<pre><code>CC = gcc

.SUFFIXES: .c .o

.c.o:
        $(CC) -c -o $@ $^

#--------------------------

all: helloworld
        @echo &quot;ALL&quot;

helloworld: test.o
        @echo $@
        $(CC) -o $@ $^

test.o: test.c

clean:
        -rm helloworld *.o
</code></pre>

<p>&rsquo;@&rsquo; will hide the following command itself.
&lsquo;-&rsquo; will ignore the stderr of the following command.</p>

    
        

<h1 id="python">Python</h1>

<h2 id="class-自带函数">Class 自带函数</h2>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="k">class</span> <span class="nc">Foor</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;init&#39;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Bar</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;new&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">Bar</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;call&#39;</span><span class="p">)</span>
        
<span class="n">foo</span> <span class="o">=</span> <span class="n">Bar</span><span class="p">()</span>
<span class="n">foo</span><span class="p">()</span>

<span class="c1"># Result:</span>
<span class="n">new</span>
<span class="n">init</span>
<span class="n">call</span>
</code></pre></div>

<ul>
<li><p><code>__init__(self, *args, **kwargs)</code><br />
在对象创建完成后调用，对当前对象实例进行初始化，无返回值。</p></li>

<li><p><code>__new__(cls, *args, **kwargs)</code><br />
创建对象时调用，返回当前对象的一个实例。</p></li>

<li><p><code>__call__(self, *args, **kwargs)</code><br />
重载括号运算符。类实现了call方法，则其对象可当作函数使用。</p></li>
</ul>

<h2 id="用自带函数实现单例">用自带函数实现单例</h2>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="k">class</span> <span class="nc">MySingleton</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="s1">&#39;_instance&#39;</span> <span class="ow">in</span> <span class="nb">vars</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">_instance</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">MySingleton</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_instance</span>
</code></pre></div>

    
        

<h1 id="network">Network</h1>

<h2 id="header-2">header 2</h2>

<p><strong>inline code</strong></p>
<div class="highlight"><pre><code class="language-c++" data-lang="c++"><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span><span class="k">return</span> <span class="mi">0</span><span class="p">;}</span>
</code></pre></div>

<p><em>some code in python</em></p>
<div class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
    <span class="k">pass</span>
    
</code></pre></div>

    
        
    
        
    
        

<h2 id="core-features-of-es2015-es6">Core Features of ES2015 (ES6)</h2>

<p><span style="color:#999">Note on Adrain Mejia&rsquo;s article</span></p>

<h3 id="history">History</h3>

<p>ES6, a.k.a. ES2015+, ECMAScript6.</p>

<p>Javascript is evolving since it was created, and ES6 is now well supported in all modern browsers.</p>

<p><img src="http://www.itnose.net/img/20161122/196231.png" alt="" />
<img src="http://www.itnose.net/img/20161122/196240.png" alt="" />
(<a href="https://kangax.github.io/compat-table/es6/">compatibility ref</a>)</p>

<h3 id="es6-core-features">ES6 core features</h3>

<h4 id="block-scoped-variables">block-scoped variables</h4>

<p>We know that <em>var</em> is not block-scoped, but function scoped.
In ES6, <em>let</em> and <em>const</em> is used instead of <em>var</em> to limit variable scoped to block.
<strong><em>let</em> is the better <em>var</em></strong>
A variable must be defined before use when it&rsquo;s defined by <em>let</em>, and it exists only inside its block, like a for-loop or if-block.</p>

<h4 id="hoist">Hoist</h4>

<pre><code>var x = 'outer';
function test(inner) {
  if (inner) {
    var x = 'inner';
    return x;
  }
  return x;
}
test(false);
// &lt;- undefined
</code></pre>

<p>Using <em>var</em>, even the <code>if</code> clause was not executed, the <code>x</code> inside it was hoisted. But only the declaration was hoisted, not the initialization.</p>

<h4 id="temporal-dead-zone">Temporal Dead-zone</h4>

<p>In ES6, <em>let</em> hoists a variable to the top of the block, and from the top on the block to the <em>let</em> declaration is a &ldquo;temporal dead zone&rdquo;, where a variable is not usable (ReferenceError).</p>

<h4 id="no-more-iife">No more IIFE</h4>

<p>We all familiar with IIFE (Immediately-Invoked Function Expression), and write it everyday. Because without IIFE, the function names and variables will pollute everywhere.</p>

<pre><code>(function() {
  var bar = 'ES5';
  function foo() {}
}());
</code></pre>

<p>With <em>let</em> grammar, IIFE is not essential anymore.</p>

<pre><code>{
  let bar = 'ES6';
  let foo = () =&gt; {};
}
</code></pre>

<h4 id="const">const</h4>

<p>When a re-assignation is necessary, ust <em>let</em>.
When the value of a variable should not be changable, use <em>const</em>.</p>

<pre><code>const _version = '0.1';
</code></pre>

<h4 id="text-template">Text Template</h4>

<pre><code>// ES5
var firstName = 'Adrian';
var lastName = 'Mejia';
console.log('Your name is ' + firstName + ' ' + lastName + '.');
</code></pre>

<p>Now <em>`</em> and <em>${}</em> is available.</p>

<pre><code>// ES6
const firstName = 'Adrian';
const lastName = 'Mejia';
console.log(`Your name is ${firstName} ${lastName}`);
</code></pre>

<h4 id="multi-line-string">Multi-line String</h4>

<pre><code>// ES5
var template = '&lt;li *ngFor=&quot;let todo of todos&quot; [ngClass]=&quot;{completed: todo.isDone}&quot; &gt;n' +
'  &lt;div class=&quot;view&quot;&gt;n' +
'    &lt;input class=&quot;toggle&quot; type=&quot;checkbox&quot; [checked]=&quot;todo.isDone&quot;&gt;n' +
'    &lt;label&gt;&lt;/label&gt;n' +
'    &lt;button class=&quot;destroy&quot;&gt;&lt;/button&gt;n' +
'  &lt;/div&gt;n' +
'  &lt;input class=&quot;edit&quot; value=&quot;&quot;&gt;n' +
'&lt;/li&gt;';
console.log(template);
</code></pre>

<p>Just using <em>`</em>, you can write multiple string directly.</p>

<pre><code>// ES6
const template = `&lt;li *ngFor=&quot;let todo of todos&quot; [ngClass]=&quot;{completed: todo.isDone}&quot; &gt;
  &lt;div class=&quot;view&quot;&gt;
    &lt;input class=&quot;toggle&quot; type=&quot;checkbox&quot; [checked]=&quot;todo.isDone&quot;&gt;
    &lt;label&gt;&lt;/label&gt;
    &lt;button class=&quot;destroy&quot;&gt;&lt;/button&gt;
  &lt;/div&gt;
  &lt;input class=&quot;edit&quot; value=&quot;&quot;&gt;
&lt;/li&gt;`;
console.log(template);
</code></pre>

<h4 id="deconstruction-and-assignment">Deconstruction and Assignment</h4>

<p>Get array elements.</p>

<pre><code>// ES5
var array = [1, 2, 3, 4];
var first = array[0];
var third = array[2];
console.log(first, third); // 1 3
</code></pre>

<pre><code>// ES6
const array = [1, 2, 3, 4];
const [first, ,third] = array;
console.log(first, third); // 1 3
</code></pre>

<p>Switch values.</p>

<pre><code>// ES5
var a = 1;
var b = 2;
var tmp = a;
a = b;
b = tmp;
console.log(a, b); // 2 1
</code></pre>

<pre><code>// ES6
let a = 1;
let b = 2;
[a, b] = [b, a];
console.log(a, b); // 2 1
</code></pre>

<p>Return multiple value</p>

<pre><code>// ES5
function margin() {
  var left=1, right=2, top=3, bottom=4;
  return { left: left, right: right, top: top, bottom: bottom };
}
var data = margin();
var left = data.left;
var bottom = data.bottom;
console.log(left, bottom); // 1 4
</code></pre>

<pre><code>// ES6
function margin() {
  const left=1, right=2, top=3, bottom=4;
  return { left, right, top, bottom }; // grammar sugar {left:left} -&gt; {left}
}
const { left, bottom } = margin();
console.log(left, bottom); // 1 4
</code></pre>

<p>Parameter match</p>

<pre><code>// ES5
var user = {firstName: 'Adrian', lastName: 'Mejia'};
function getFullName(user) {
  var firstName = user.firstName;
  var lastName = user.lastName;
  return firstName + ' ' + lastName;
}
console.log(getFullName(user)); // Adrian Mejia
</code></pre>

<pre><code>// ES6
const user = {firstName: 'Adrian', lastName: 'Mejia'};
function getFullName({ firstName, lastName }) {
  return `${firstName} ${lastName}`;
}
console.log(getFullName(user)); // Adrian Mejia
</code></pre>

<p>Deep match</p>

<pre><code>// ES5
function settings() {
  return { display: { color: 'red' }, keyboard: { layout: 'querty'} };
}
var tmp = settings();
var displayColor = tmp.display.color;
var keyboardLayout = tmp.keyboard.layout;
console.log(displayColor, keyboardLayout); // red querty
</code></pre>

<pre><code>// ES6
function settings() {
  return { display: { color: 'red' }, keyboard: { layout: 'querty'} };
}
const { display: { color: displayColor }, keyboard: { layout: keyboardLayout }} = settings();
console.log(displayColor, keyboardLayout); // red querty
</code></pre>

<p>Deconstruction is useful, and helpful in forming a good coding style.
Use array deconstrunction to avoid temporary variables.
Use Object deconstrunction to deal with multiple return values.</p>

<h4 id="class-and-object">Class and Object</h4>

<pre><code>// ES5
var Animal = (function () {
  function MyConstructor(name) {
    this.name = name;
  }
  MyConstructor.prototype.speak = function speak() {
    console.log(this.name + ' makes a noise.');
  };
  return MyConstructor;
})();
var animal = new Animal('animal');
animal.speak(); // animal makes a noise.
</code></pre>

<p>ES6 provides grammar sugar to define a class object.
With <em>class</em>, <em>constructor</em>, you can define speak() instead of constructor.prototype.speak = function().
Use <em>class</em> and avoid deal with <em>prototype</em>. The same functionality, more elegant.</p>

<pre><code>// ES6
class Animal {
  constructor(name) {
    this.name = name;
  }
  speak() {
    console.log(this.name + ' makes a noise.');
  }
}
const animal = new Animal('animal');
animal.speak(); // animal makes a noise.
</code></pre>

<p>Avoid empty constructor. A class has a default constructor itself.</p>

<h4 id="inherit">Inherit</h4>

<p>Inheritance in ES5 is complex.</p>

<pre><code>// ES5
var Lion = (function () {
  function MyConstructor(name){
    Animal.call(this, name);
  }
  // prototypal inheritance
  MyConstructor.prototype = Object.create(Animal.prototype);
  MyConstructor.prototype.constructor = Animal;
  MyConstructor.prototype.speak = function speak() {
    Animal.prototype.speak.call(this);
    console.log(this.name + ' roars ');
  };
  return MyConstructor;
})();
var lion = new Lion('Simba');
lion.speak(); // Simba makes a noise.
// Simba roars.
</code></pre>

<pre><code>// ES6
class Lion extends Animal {
  speak() {
    super.speak();
    console.log(this.name + ' roars ');
  }
}
const lion = new Lion('Simba');
lion.speak(); // Simba makes a noise.
// Simba roars.
</code></pre>

<p>ES6 has <em>extends</em> and <em>super</em>, makes inheritance much clearer.</p>

<h4 id="promise">Promise</h4>

<p><em>promise</em> is used to eliminate the callback hell.</p>

<pre><code>// ES5
function printAfterTimeout(string, timeout, done){
  setTimeout(function(){
    done(string);
  }, timeout);
}
printAfterTimeout('Hello ', 2e3, function(result){
  console.log(result);
  // nested callback
  printAfterTimeout(result + 'Reader', 2e3, function(result){
    console.log(result);
  });
});
</code></pre>

<p>This function exec a callback after done(), twice. More layer of callbacks, it will become a mess.
With <em>promise</em>:</p>

<pre><code>// ES6
function printAfterTimeout(string, timeout){
  return new Promise((resolve, reject) =&gt; {
    setTimeout(function(){
      resolve(string);
    }, timeout);
  });
}
printAfterTimeout('Hello ', 2e3).then((result) =&gt; {
  console.log(result);
  return printAfterTimeout(result + 'Reader', 2e3);
}).then((result) =&gt; {
  console.log(result);
});
</code></pre>

<p>Use <em>promise</em>, another function can be called by <em>then</em> after a function is executed without nesting.</p>

<h4 id="arrow-function">Arrow Function</h4>

<p>In ES5, <em>this</em> point to the environment in which a function is executed, instead of in which it is defined.</p>

<pre><code>// ES5
var _this = this; // need to hold a reference
$('.btn').click(function(event){
  _this.sendData(); // reference outer this
});
$('.input').on('change',function(event){
  this.sendData(); // reference outer this
}.bind(this)); // bind to outer this
</code></pre>

<p>With <code>()=&gt;{}</code>, you don&rsquo;t need to use a temporary variable to hold <em>this</em> or use <em>bind</em>.</p>

<pre><code>// ES6
// this will reference the outer one
$('.btn').click((event) =&gt;  this.sendData());
// implicit returns
const ids = [291, 288, 984];
const messages = ids.map(value =&gt; `ID is ${value}`);
</code></pre>

<h4 id="for-of">for &hellip; of</h4>

<h4 id="default-value-of-function-arguments">default value of function arguments</h4>

<p>Just like in C, Python, and any other languages.</p>

<h4 id="remaining-arguments">&hellip; remaining arguments</h4>

<p>A <em>argumnets</em> like operation.</p>

<pre><code>function printf(format, ...params) {
  console.log('params: ', params);
  console.log('format: ', format);
}
printf('%s %d %.2f', 'adrian', 321, Math.PI);
</code></pre>

<h4 id="open-spread-operator-which-terminology">open/spread operator (??? which terminology)</h4>

<p>In ES5, apply()</p>

<pre><code>Math.max(2,100,1,6,43) // &lt;- 100
Math.max([2,100,1,6,43]) // &lt;- NaN
Math.max.apply(Math, [2,100,1,6,43]) // &lt;- 100
</code></pre>

<p>In ES6, just spread the array.</p>

<pre><code>Math.max(...[2,100,1,6,43]) // 100
</code></pre>

<p>In ES6, concat() arrays.</p>

<pre><code>var array1 = [2,100,1,6,43];
var array2 = ['a', 'b', 'c', 'd'];
var array3 = [false, true, null, undefined];
console.log(array1.concat(array2, array3));
</code></pre>

<p>ES6 spreads nested arrays.</p>

<pre><code>// ES6
const array1 = [2,100,1,6,43];
const array2 = ['a', 'b', 'c', 'd'];
const array3 = [false, true, null, undefined];
console.log([...array1, ...array2, ...array3]);
</code></pre>

<hr />

    

        </div>
        <div class="dark-box">
            
            <div class="lang-selector">
                
                <a href="#" data-language-name="go">Go</a>
                
                <a href="#" data-language-name="c&#43;&#43;">C&#43;&#43;</a>
                
                <a href="#" data-language-name="shell">Shell</a>
                
                <a href="#" data-language-name="python">Python</a>
                
                <a href="#" data-language-name="javascript">Javascript</a>
                
            </div>
            
        </div>
    </div>
    
</body>
</html>
